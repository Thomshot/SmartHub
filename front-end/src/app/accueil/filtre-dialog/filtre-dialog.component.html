<div class="filtre-panel">
  <h2>Filtres</h2>
  <mat-dialog-content>
    <!-- Type d'objets -->
    <section>
      <h3>Type d'objets</h3>
      <div class="checkbox-grid">
        <mat-checkbox *ngFor="let type of filtres.types.slice(0, 5)" [(ngModel)]="type.checked">
          {{ type.label }}
        </mat-checkbox>
      </div>
      <button mat-button (click)="showAllTypes = !showAllTypes">
        {{ showAllTypes ? 'Réduire' : 'Afficher tout' }}
      </button>
      <div *ngIf="showAllTypes" class="checkbox-grid">
        <mat-checkbox *ngFor="let type of filtres.types.slice(5)" [(ngModel)]="type.checked">
          {{ type.label }}
        </mat-checkbox>
      </div>
    </section>

    <!-- État -->
    <section>
      <h3>État</h3>
      <mat-checkbox *ngFor="let etat of filtres.etats" [(ngModel)]="etat.checked">
        {{ etat.label }}
      </mat-checkbox>
    </section>

    <!-- Connectivité -->
    <section>
      <h3>Connectivité</h3>
      <mat-checkbox *ngFor="let net of filtres.connectivite" [(ngModel)]="net.checked">
        {{ net.label }}
      </mat-checkbox>
    </section>

    <!-- Pièce -->
    <section>
      <h3>Pièce</h3>
      <div class="checkbox-grid">
        <mat-checkbox *ngFor="let room of filtres.pieces.slice(0, 5)" [(ngModel)]="room.checked">
          {{ room.label }}
        </mat-checkbox>
      </div>
      <button mat-button (click)="showAllRooms = !showAllRooms">
        {{ showAllRooms ? 'Réduire' : 'Afficher tout' }}
      </button>
      <div *ngIf="showAllRooms" class="checkbox-grid">
        <mat-checkbox *ngFor="let room of filtres.pieces.slice(5)" [(ngModel)]="room.checked">
          {{ room.label }}
        </mat-checkbox>
      </div>
    </section>
  </mat-dialog-content>

  <!-- Actions -->
  <mat-dialog-actions class="d-flex justify-content-between">
    <button mat-raised-button (click)="resetFiltres()">Réinitialiser les filtres</button>
    <button mat-raised-button (click)="fermer()">Annuler</button>
    <button mat-button (click)="appliquerFiltres()">Appliquer</button>
  </mat-dialog-actions>
</div>
